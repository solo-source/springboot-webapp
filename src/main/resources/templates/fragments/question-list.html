<!-- src/main/resources/templates/fragments/question-list.html -->
<div th:fragment="questionList(questions)">
  <ul class="list-group mb-3">
    <li class="list-group-item d-flex justify-content-between align-items-start"
        th:each="q : ${questions.content}">
      <div class="ms-2 me-auto">
        <div class="fw-bold">
          <a th:href="@{'/questions/' + ${q.id}}" th:text="${q.title}"></a>
        </div>
        <small class="text-muted" th:text="${#dates.format(q.createdAt, 'MMM d, yyyy')}"></small>
      </div>
      <span class="badge bg-primary rounded-pill" th:text="${q.answerCount}"></span>
    </li>
  </ul>

  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
      <li class="page-item" th:classappend="${questions.hasPrevious()}? '' : 'disabled'">
        <a class="page-link" th:href="@{'/questions?page=' + ${questions.number - 1}}">Previous</a>
      </li>
      <li class="page-item disabled">
        <span class="page-link">Page <span th:text="${questions.number + 1}"></span> of <span th:text="${questions.totalPages}"></span></span>
      </li>
      <li class="page-item" th:classappend="${questions.hasNext()}? '' : 'disabled'">
        <a class="page-link" th:href="@{'/questions?page=' + ${questions.number + 1}}">Next</a>
      </li>
    </ul>
  </nav>
</div>